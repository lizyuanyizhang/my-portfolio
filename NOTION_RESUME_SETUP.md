# Notion 简历同步指南

> 在 Notion 填写简历模板，运行 `npm run sync:resume` 即可自动同步到本站「简历」页面。
>
> 与时间轴、文字、摄影的 Notion 同步方式一致，无需手动编辑 JSON。

---

## 一、流程概览

```
Notion 简历数据库 → node scripts/notion-to-resume.cjs
                              ↓
             src/i18n/data.zh.json (resume 对象)
                              ↓
             npm run build → 部署
```

---

## 二、Step 1：在 Notion 创建简历数据库

1. 打开 [Notion](https://notion.so)，新建 **Database - Full page**
2. 命名为「简历」或「Resume」
3. 按下方「建议列结构」添加列

### 建议列结构

| 列名     | 类型      | 说明 |
|----------|-----------|------|
| **类型** | Select    | **必填**。选项：`总结`、`工作经历`、`教育背景`、`技能-开发`、`技能-设计`、`技能-语言` |
| **内容** | Text      | 类型为「总结」时填写个人总结 |
| **职位** | Title     | 工作经历时的职位；教育背景时可选（优先用「学位」列） |
| **公司** | Text      | 工作经历时的公司名称 |
| **学校** | Text      | 教育背景时的学校名称 |
| **专业** | Text      | 教育背景时的专业（如人力资源管理） |
| **时间段** | Text 或 Date | 如 `2021 - 至今`；Date 类型会自动格式化为 `2015-09-01 → 2019-06-15` |
| **工作内容** | Text   | 工作经历时的职责点，**每行一条** |
| **技能项** | Text    | 技能类型时，每行一个技能；或每行一个技能 |

### 填写示例

**一行「总结」：**（类型=总结，内容填在「内容」列或页面标题）

| 类型 | 内容 |
|-----|------|
| 总结 | 拥有 5 年以上跨领域经验的创意工作者。擅长将技术实现与审美表达相结合。 |

**多行「工作经历」：**（类型=工作经历，必填「职位」和「公司」）

| 类型 | 职位 | 公司 | 时间段 | 工作内容 |
|-----|------|------|--------|----------|
| 工作经历 | 高级创意开发者 | 某设计工作室 | 2021 - 至今 | 主导多个品牌数字化转型项目<br>负责内部设计系统的搭建 |
| 工作经历 | 产品设计师 | XX 科技 | 2019 - 2021 | 参与核心产品设计 |

**多行「教育背景」：**

| 类型 | 职位（学位） | 学校 | 时间段 |
|-----|--------------|------|--------|
| 教育背景 | 计算机科学与技术 学士 | 某重点大学 | 2014 - 2018 |

**多行「技能」：**

| 类型 | 技能项 |
|-----|--------|
| 技能-开发 | React |
| 技能-开发 | TypeScript |
| 技能-开发 | Node.js |
| 技能-设计 | Figma |
| 技能-设计 | UI/UX |
| 技能-设计 | Motion |
| 技能-语言 | 中文 |
| 技能-语言 | 英语 |

> 💡 **替代写法**：若不想用 `技能-开发` 等选项，可新增「分类」列（Select: 开发、设计、语言），类型填「技能」，脚本会按「分类」自动归类。

---

## 三、Step 2：连接 Integration 并获取数据库 ID

1. 确保已创建 Notion Integration（与时间轴、随笔共用同一 Integration 即可）
2. 在简历数据库页面点击 **...** → **Add connections**，选择该 Integration
3. 从浏览器地址栏或 **Copy link** 中获取 32 位数据库 ID

---

## 四、Step 3：配置 .elog.env

在 `.elog.env` 中添加：

```
NOTION_DATABASE_RESUME_ID=你的简历数据库ID
```

（`NOTION_TOKEN` 已有时无需重复配置）

---

## 五、Step 4：执行同步

```bash
# 仅同步简历
npm run sync:resume

# 或全量同步（含文章、照片、时间轴、简历）
npm run sync
```

同步完成后，`src/i18n/data.zh.json`、`data.en.json`、`data.de.json` 中的 `resume` 对象会被更新，简历页面将展示最新内容。

---

## 六、与 personalInfo 的关系

简历页面的**头部信息**（姓名、邮箱、LinkedIn、位置等）来自 `personalInfo`，目前仍通过修改 `data.json` 或 `data.zh.json` 的 `personalInfo` 维护。  
若后续需要从 Notion 同步个人信息，可另行扩展。

---

## 七、多语言

当前脚本会将同一份简历内容写入 `data.zh.json`、`data.en.json`、`data.de.json`，即所有语言共用一份简历。

如需中英文简历分离，可在 Notion 中通过「语言」列区分，或在未来版本中支持多语言数据库。
